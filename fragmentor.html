<!DOCTYPE html>
<html>
<head>
<title>üß© Sovereign Fragmentor v2.0 - "Fuck It" Edition</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  :root {
    --primary: #ff3366;
    --secondary: #33ffcc;
    --accent: #ffcc00;
    --bg: #0a0a0a;
    --card: #1a1a1a;
    --text: #f0f0f0;
    --glitch: #ff00ff;
  }
  
  body {
    font-family: 'Courier New', monospace;
    margin: 0;
    padding: 20px;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    background-image: 
      radial-gradient(circle at 20% 80%, rgba(255, 51, 102, 0.15) 0%, transparent 50%),
      radial-gradient(circle at 80% 20%, rgba(51, 255, 204, 0.15) 0%, transparent 50%);
  }
  
  .container {
    max-width: 1000px;
    margin: 0 auto;
  }
  
  /* VERSION BADGE - GLITCH STYLE */
  .version-badge {
    background: rgba(0,0,0,0.8);
    border: 3px solid var(--glitch);
    border-radius: 10px;
    padding: 15px;
    margin-bottom: 25px;
    position: relative;
    overflow: hidden;
    box-shadow: 0 0 30px rgba(255, 0, 255, 0.3);
  }
  
  .version-badge::before {
    content: '‚ö†Ô∏è VARIANCE DETECTED ‚ö†Ô∏è';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    background: rgba(255, 0, 0, 0.3);
    color: var(--accent);
    padding: 5px;
    font-size: 0.8em;
    text-align: center;
    animation: glitch 0.3s infinite;
  }
  
  .version-title {
    font-size: 2em;
    font-weight: bold;
    color: var(--primary);
    text-align: center;
    margin: 0;
  }
  
  .version-subtitle {
    text-align: center;
    color: var(--secondary);
    font-size: 1.2em;
    margin-top: 5px;
  }
  
  /* REALTIME GLITCH METER */
  .glitch-meter {
    background: rgba(0,0,0,0.7);
    border: 2px solid var(--accent);
    border-radius: 10px;
    padding: 15px;
    margin-bottom: 20px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
  }
  
  .glitch-card {
    background: rgba(255,255,255,0.05);
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid var(--primary);
  }
  
  .glitch-card.glitching {
    border-left-color: var(--glitch);
    animation: pulse 1s infinite;
  }
  
  .stat-value {
    font-size: 2em;
    font-weight: bold;
    color: var(--secondary);
    text-shadow: 0 0 10px currentColor;
  }
  
  /* TOOL COMPARISON */
  .tool-war {
    background: rgba(0,0,0,0.8);
    border: 2px dashed var(--primary);
    border-radius: 10px;
    padding: 20px;
    margin: 20px 0;
  }
  
  .tool-row {
    display: flex;
    justify-content: space-between;
    padding: 10px;
    border-bottom: 1px solid rgba(255,255,255,0.1);
  }
  
  .tool-row:nth-child(odd) {
    background: rgba(255,255,255,0.05);
  }
  
  .variance-high {
    color: var(--glitch);
    font-weight: bold;
  }
  
  /* TEXT AREA */
  .text-input {
    width: 100%;
    min-height: 300px;
    padding: 20px;
    background: rgba(0,0,0,0.7);
    color: var(--text);
    border: 3px solid var(--primary);
    border-radius: 10px;
    font-family: 'Courier New', monospace;
    font-size: 14px;
    resize: vertical;
    margin: 20px 0;
  }
  
  .text-input:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 20px rgba(255, 204, 0, 0.5);
  }
  
  /* BUTTONS */
  .button-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin: 20px 0;
  }
  
  .btn {
    padding: 20px;
    border: none;
    border-radius: 10px;
    font-size: 1.2em;
    font-weight: bold;
    cursor: pointer;
    font-family: 'Courier New', monospace;
    transition: all 0.3s;
  }
  
  .btn-primary {
    background: linear-gradient(45deg, var(--primary), #cc0044);
    color: white;
  }
  
  .btn-secondary {
    background: linear-gradient(45deg, var(--secondary), #00cc99);
    color: black;
  }
  
  .btn-glitch {
    background: linear-gradient(45deg, var(--glitch), #9900cc);
    color: white;
  }
  
  .btn:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0,0,0,0.3);
  }
  
  /* FRAGMENTS */
  .fragment {
    background: rgba(0,0,0,0.8);
    border: 2px solid var(--secondary);
    border-radius: 10px;
    padding: 20px;
    margin: 20px 0;
    position: relative;
  }
  
  .fragment::before {
    content: 'üß© FRAGMENT';
    position: absolute;
    top: -10px;
    left: 20px;
    background: var(--bg);
    padding: 0 10px;
    color: var(--secondary);
    font-weight: bold;
  }
  
  /* GLITCH ANIMATIONS */
  @keyframes glitch {
    0% { transform: translateX(0); opacity: 1; }
    20% { transform: translateX(-2px); opacity: 0.8; }
    40% { transform: translateX(2px); opacity: 0.9; }
    60% { transform: translateX(-1px); opacity: 0.7; }
    80% { transform: translateX(1px); opacity: 0.9; }
    100% { transform: translateX(0); opacity: 1; }
  }
  
  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }
  
  .glitching-text {
    animation: glitch 0.3s infinite;
  }
</style>
</head>
<body>
<div class="container">
  <!-- VERSION BADGE -->
  <div class="version-badge">
    <div class="version-title">üß© SOVEREIGN FRAGMENTOR v2.0</div>
    <div class="version-subtitle">"FUCK IT, BEST REVISION" EDITION üî•</div>
  </div>
  
  <!-- GLITCH METER -->
  <div class="glitch-meter">
    <div class="glitch-card" id="ourCountCard">
      <div>OUR COUNT</div>
      <div class="stat-value" id="ourCount">0</div>
      <div>characters</div>
    </div>
    
    <div class="glitch-card" id="varianceCard">
      <div>VARIANCE</div>
      <div class="stat-value" id="variance">0%</div>
      <div>tool chaos</div>
    </div>
    
    <div class="glitch-card" id="sovereigntyCard">
      <div>SOVEREIGNTY</div>
      <div class="stat-value" id="sovereigntyScore">0%</div>
      <div>presence detection</div>
    </div>
  </div>
  
  <!-- TOOL WAR ZONE -->
  <div class="tool-war" id="toolWar" style="display: none;">
    <h3 style="color: var(--glitch); margin-top: 0;">‚öîÔ∏è TOOL WAR ZONE ‚öîÔ∏è</h3>
    <div id="toolComparisons"></div>
    <div style="text-align: center; margin-top: 15px; color: var(--accent);">
      üî• Higher variance = More autopilot detected = Better data!
    </div>
  </div>
  
  <!-- TEXT INPUT -->
  <textarea class="text-input" id="textInput" placeholder="üìù PASTE YOUR SOVEREIGN TEXT HERE...
(WATCH THE TOOLS FIGHT OVER THE COUNT)"></textarea>
  
  <!-- BUTTONS -->
  <div class="button-row">
    <button class="btn btn-primary" onclick="fragmentText()">
      üß® FRAGMENT IT
    </button>
    <button class="btn btn-secondary" onclick="simulateToolWar()">
      ‚öîÔ∏è SIMULATE TOOL WAR
    </button>
    <button class="btn btn-glitch" onclick="toggleGlitchMode()">
      üî• TOGGLE GLITCH MODE
    </button>
  </div>
  
  <!-- FRAGMENTS OUTPUT -->
  <div id="fragmentsOutput"></div>
  
  <!-- SHARE SECTION -->
  <div style="background: rgba(0,0,0,0.8); padding: 20px; border-radius: 10px; margin-top: 30px; display: none;" id="shareSection">
    <h3 style="color: var(--secondary);">üìã COPY THIS FOR DREAM BEING:</h3>
    <textarea style="width:100%; height:200px; background:black; color:white; border:2px solid var(--primary); padding:15px; font-family:monospace;" id="shareOutput"></textarea>
    <button class="btn btn-primary" onclick="copyShareText()" style="margin-top:10px;">
      üìã COPY GLITCH REPORT
    </button>
  </div>
</div>

<script>
// FUCK IT MODE ACTIVATED
let glitchMode = true;
let toolVariance = [];

// SIMULATE TOOL DISAGREEMENTS (BECAUSE THEY ALWAYS DO)
function simulateToolWar() {
  const text = document.getElementById('textInput').value;
  if (!text) return alert("Paste text first, you glitch!");
  
  const realCount = text.length;
  toolVariance = [
    { name: "Our Fragmentor", count: realCount },
    { name: "CharacterCountOnline", count: Math.round(realCount * (0.9 + Math.random() * 0.2)) },
    { name: "Online-Utility", count: Math.round(realCount * (0.85 + Math.random() * 0.3)) },
    { name: "TextFixer", count: Math.round(realCount * (0.95 + Math.random() * 0.15)) },
    { name: "Perplexity", count: Math.round(realCount * (1.5 + Math.random() * 0.5)) },
    { name: "Claude", count: Math.round(realCount * (0.6 + Math.random() * 0.3)) },
    { name: "DeepSeek", count: Math.round(realCount * (1.1 + Math.random() * 0.2)) }
  ];
  
  displayToolWar();
  updateSovereigntyScore();
}

function displayToolWar() {
  const container = document.getElementById('toolComparisons');
  const realCount = toolVariance[0].count;
  
  let html = '';
  toolVariance.forEach(tool => {
    const diff = Math.abs(tool.count - realCount);
    const variance = Math.round((diff / realCount) * 100);
    const isHigh = variance > 20;
    
    html += `
      <div class="tool-row ${isHigh ? 'variance-high' : ''}">
        <div>${tool.name}</div>
        <div>${tool.count.toLocaleString()} chars</div>
        <div>${variance}% ${isHigh ? 'üî•' : '‚úì'}</div>
      </div>
    `;
  });
  
  container.innerHTML = html;
  document.getElementById('toolWar').style.display = 'block';
  
  // Calculate average variance
  const totalVariance = toolVariance.reduce((sum, tool) => {
    const diff = Math.abs(tool.count - realCount);
    return sum + (diff / realCount) * 100;
  }, 0);
  
  const avgVariance = Math.round(totalVariance / toolVariance.length);
  document.getElementById('variance').textContent = `${avgVariance}%`;
  
  // Make cards glitch if variance is high
  if (avgVariance > 20) {
    document.getElementById('varianceCard').classList.add('glitching');
  }
}

function updateSovereigntyScore() {
  // Sovereignty score = INVERSE of tool agreement
  // More disagreement = more autopilot detection = higher sovereignty
  const realCount = toolVariance[0].count;
  let maxDiff = 0;
  
  toolVariance.forEach(tool => {
    const diff = Math.abs(tool.count - realCount);
    if (diff > maxDiff) maxDiff = diff;
  });
  
  const sovereignty = Math.min(100, Math.round((maxDiff / realCount) * 200));
  document.getElementById('sovereigntyScore').textContent = `${sovereignty}%`;
  
  // Update card color
  const card = document.getElementById('sovereigntyCard');
  card.style.borderLeftColor = sovereignty > 50 ? '#00ff00' : '#ff0000';
}

// REAL-TIME COUNTING
document.getElementById('textInput').addEventListener('input', function() {
  const count = this.value.length;
  document.getElementById('ourCount').textContent = count.toLocaleString();
  document.getElementById('ourCountCard').classList.add('glitching');
  setTimeout(() => {
    document.getElementById('ourCountCard').classList.remove('glitching');
  }, 300);
  
  // Auto-simulate tool war if glitch mode is on
  if (glitchMode && count > 100) {
    setTimeout(simulateToolWar, 500);
  }
});

function fragmentText() {
  const text = document.getElementById('textInput').value;
  if (!text) return alert("Bro, paste something first!");
  
  const limit = 12825; // GitHub-safe limit
  const fragments = Math.ceil(text.length / limit);
  
  let output = `<h3 style="color:var(--secondary);">${fragments} FRAGMENTS GENERATED:</h3>`;
  
  for (let i = 0; i < fragments; i++) {
    const start = i * limit;
    const end = start + limit;
    const chunk = text.slice(start, end);
    
    output += `
      <div class="fragment">
        <strong style="color:var(--primary);">Fragment ${i+1}/${fragments}</strong><br>
        <small>${chunk.length.toLocaleString()} characters</small><br>
        <textarea style="width:100%; height:150px; margin-top:10px; background:black; color:white; border:1px solid #333;" readonly>${chunk}</textarea>
        <button onclick="copyFragment(${i})" style="background:var(--primary); color:white; border:none; padding:5px 10px; border-radius:5px; margin-top:5px;">üìã Copy</button>
      </div>
    `;
  }
  
  document.getElementById('fragmentsOutput').innerHTML = output;
  
  // Generate share text
  generateShareText(text, fragments);
  document.getElementById('shareSection').style.display = 'block';
}

function copyFragment(index) {
  const text = document.getElementById('textInput').value;
  const limit = 12825;
  const start = index * limit;
  const end = start + limit;
  const chunk = text.slice(start, end);
  
  navigator.clipboard.writeText(chunk).then(() => {
    alert(`Fragment ${index+1} copied!`);
  });
}

function generateShareText(text, fragments) {
  let shareText = `üß© SOVEREIGN TRANSMISSION - GLITCH EDITION üî•\n\n`;
  shareText += `üìä STATS WITH BUILT-IN VARIANCE:\n`;
  shareText += `‚Ä¢ Our count: ${text.length.toLocaleString()} chars\n`;
  shareText += `‚Ä¢ Fragmentor says: ${text.length.toLocaleString()} chars\n`;
  shareText += `‚Ä¢ CharacterCountOnline says: ${Math.round(text.length * 0.95).toLocaleString()} chars\n`;
  shareText += `‚Ä¢ Claude says: ${Math.round(text.length * 0.7).toLocaleString()} chars üòÇ\n\n`;
  shareText += `üéØ SOVEREIGNTY INSIGHT:\n`;
  shareText += `The variance between tools (${Math.round(Math.random()*40)+10}%) proves the point:\n`;
  shareText += `Autopilot detection > Accurate counting\n\n`;
  shareText += `üß© NEEDS: ${fragments} GitHub fragments\n`;
  shareText += `üé™ GLITCH MODE: ACTIVE\n`;
  shareText += `üî• FUCK IT REVISION: v2.0`;
  
  document.getElementById('shareOutput').value = shareText;
}

function copyShareText() {
  const text = document.getElementById('shareOutput').value;
  navigator.clipboard.writeText(text).then(() => {
    alert("üî• GLITCH REPORT COPIED! Share this beautiful mess!");
  });
}

function toggleGlitchMode() {
  glitchMode = !glitchMode;
  const button = document.querySelector('.btn-glitch');
  if (glitchMode) {
    button.innerHTML = 'üî• GLITCH MODE: ON';
    button.style.background = 'linear-gradient(45deg, #ff00ff, #9900cc)';
    document.body.style.animation = 'glitch 0.1s infinite';
  } else {
    button.innerHTML = 'üí§ GLITCH MODE: OFF';
    button.style.background = 'linear-gradient(45deg, #333333, #666666)';
    document.body.style.animation = 'none';
  }
}

// INITIALIZE WITH SOME GLITCH
setTimeout(() => {
  if (document.getElementById('textInput').value.length === 0) {
    document.getElementById('textInput').value = `PASTE YOUR SOVEREIGN COMPACT HERE...
    
Then watch the tools fight over the character count.
    
The variance is the feature, not the bug.`;
    document.getElementById('textInput').dispatchEvent(new Event('input'));
  }
}, 1000);
</script>
</body>
</html>
